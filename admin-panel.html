<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel - OFFICIAL SIA</title>

<style>
body{
  font-family: Arial, Helvetica, sans-serif;
  background:#f4f4f4;
  margin:0;
}

/* HEADER */
.header{
  background:#000;
  color:#fff;
  padding:20px;
  text-align:center;
  font-size:26px;
  font-weight:bold;
}

/* DASHBOARD */
.dashboard{
  padding:25px;
  text-align:center;
  background:#eee;
}

.dashboard button{
  padding:15px 25px;
  margin:10px;
  border:none;
  font-size:16px;
  cursor:pointer;
  border-radius:6px;
}

/* BUTTON COLORS */
.btn-book{ background:linear-gradient(45deg,#8e24aa,#d81b60); color:#fff; }
.btn-reg{ background:#f5c400; }
.btn-trf{ background:#1976d2; color:#fff; }

/* SECTIONS */
.section{
  display:none;
  padding:30px;
}

/* BOOK TEST */
.book-box{
  background:#fff;
  padding:30px;
  border-radius:10px;
  max-width:500px;
  margin:auto;
}

.book-box select, .book-box input{
  width:100%;
  padding:10px;
  margin-bottom:12px;
}

.book-btn{
  background:#000;
  color:#fff;
  padding:14px;
  width:100%;
  border:none;
  font-size:16px;
  cursor:pointer;
}

/* TRF FORM */
.trf-wrapper{
  display:flex;
  gap:30px;
  background:#fff;
  padding:30px;
  border-radius:10px;
}

.trf-left{ width:65%; }
.trf-right{ width:35%; text-align:center; }

.row{
  display:flex;
  gap:10px;
  margin-bottom:10px;
}

input, textarea, select{
  width:100%;
  padding:10px;
}

.photo-box{
  height:260px;
  border:2px dashed #000;
  display:flex;
  align-items:center;
  justify-content:center;
  margin-bottom:10px;
}

.pdf-btn{
  background:#000;
  color:#fff;
  padding:12px;
  border:none;
  cursor:pointer;
  margin-top:15px;
}

/* UPDATE RESULT */
.result-box{
  background:#fff;
  padding:30px;
  border-radius:10px;
  max-width:600px;
  margin:auto;
}

.update-btn{
  background:#2e7d32;
  color:#fff;
  padding:14px;
  width:100%;
  border:none;
  font-size:16px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="header">WELCOME TO THE ADMIN PANEL</div>

<div class="dashboard">
  <button class="btn-book" onclick="showBook()">BOOK TEST</button>
  <button class="btn-reg" onclick="showReg()">Candidate Registration Form</button>
  <button class="btn-trf" onclick="showResult()">Update Result</button>
</div>

<!-- BOOK TEST -->
<div class="section" id="bookSection">
  <div class="book-box">
    <h3>Book Test (Admin)</h3>

    <select>
      <option>Select Test Mode</option>
      <option>IELTS Academic</option>
      <option>IELTS General Training</option>
      <option>IELTS Life Skill</option>
    </select>

    <input type="date">

    <select>
      <option>Select Test Time</option>
      <option>10:00 AM</option>
      <option>11:00 AM</option>
      <option>01:00 PM</option>
      <option>02:00 PM</option>
      <option>03:00 PM</option>
      <option>04:00 PM</option>
    </select>

    <button class="book-btn">BOOK TEST</button>
  </div>
</div>

<!-- CANDIDATE REGISTRATION (ORIGINAL STYLE FIXED) -->
<div class="section" id="regSection">

  <h2>IELTS</h2>
  <p>Test Report Form</p>

  <div class="trf-wrapper">

    <div class="trf-left" id="trfForm">

      <div class="row">
        <input placeholder="Centre Number">
        <input type="date">
        <input placeholder="Candidate Number">
      </div>

      <h4>Candidate Details</h4>

      <input placeholder="Family Name">
      <input placeholder="First Name(s)">

      <div class="row">
        <input placeholder="Candidate ID">
        <input type="date">
        <input placeholder="Sex (M/F)">
      </div>

      <input placeholder="Country or Region of Origin">
      <input placeholder="Country of Nationality">
      <input placeholder="First Language">

      <h4>Test Results</h4>

      <div class="row">
        <input placeholder="Listening">
        <input placeholder="Reading">
        <input placeholder="Writing">
        <input placeholder="Speaking">
      </div>

      <div class="row">
        <input placeholder="Overall Band Score">
        <input placeholder="CEFR Level">
      </div>

      <h4>Administrator Comments</h4>
      <textarea></textarea>

      <div class="row">
        <input type="date">
        <input placeholder="Test Report Form Number">
      </div>

      <button class="pdf-btn" onclick="generatePDF()">Generate PDF</button>
    </div>

    <div class="trf-right">
      <h4>Live Photo</h4>
    <!-- Live Photo Section -->
<div class="photo-box">
  <video id="video" autoplay playsinline></video>
  <canvas id="canvas"></canvas>
</div>

<div class="camera-buttons">
  <button type="button" onclick="startCamera()">Start Camera</button>
  <button type="button" onclick="capturePhoto()">Capture Photo</button>
</div>

  </div>
</div>

<!-- UPDATE RESULT -->
<div class="section" id="resultSection">
  <div class="result-box">
    <h3>Candidate Result Update Form</h3>

    <input id="listening" placeholder="Listening">
    <input id="reading" placeholder="Reading">
    <input id="writing" placeholder="Writing">
    <input id="speaking" placeholder="Speaking">
    <input id="overall" placeholder="Overall Band Score">

    <select id="cefr">
      <option>Select CEFR Level</option>
      <option>A1</option><option>A2</option>
      <option>B1</option><option>B2</option>
      <option>C1</option><option>C2</option>
    </select>

    <label>Upload TRF PDF</label>
    <input type="file" accept="application/pdf">

    <button class="update-btn" onclick="updateResult()">Update Result</button>
  </div>
</div>

<!-- JS -->
<script>
/* ================= SECTION CONTROL ================= */
function hideAll(){
  document.getElementById("bookSection").style.display = "none";
  document.getElementById("regSection").style.display = "none";
  document.getElementById("resultSection").style.display = "none";
}

function showBook(){
  hideAll();
  document.getElementById("bookSection").style.display = "block";
}

function showReg(){
  hideAll();
  document.getElementById("regSection").style.display = "block";
}

function showResult(){
  hideAll();
  document.getElementById("resultSection").style.display = "block";
}

/* ================= PDF GENERATE ================= */
function generatePDF(){
  const form = document.getElementById("trfForm");
  html2pdf().from(form).save("IELTS-TRF.pdf");
}

/* ================= UPDATE RESULT ================= */
function updateResult(){
  alert("Result Updated Successfully âœ…");
}

/* ================= CAMERA ================= */
<!-- ========= CAMERA + ALL JS ========= -->
<script>
let stream;

function startCamera() {
  const video = document.getElementById("video");
  const canvas = document.getElementById("canvas");

  canvas.style.display = "none";
  video.style.display = "block";

  navigator.mediaDevices.getUserMedia({ video: true })
    .then(s => {
      stream = s;
      video.srcObject = stream;
    })
    .catch(err => {
      alert("Camera access denied");
      console.error(err);
    });
}

function capturePhoto() {
  const video = document.getElementById("video");
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  canvas.width = video.clientWidth;
  canvas.height = video.clientHeight;

  ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

  video.style.display = "none";
  canvas.style.display = "block";

  if (stream) {
    stream.getTracks().forEach(t => t.stop());
  }
}

/* ===== PANEL FUNCTIONS ===== */
function showBook() {
  hideAll();
  document.getElementById("bookTestSection").style.display = "block";
}

function showReg() {
  hideAll();
  document.getElementById("registrationSection").style.display = "block";
}

function showResult() {
  hideAll();
  document.getElementById("resultSection").style.display = "block";
}

function hideAll() {
  document.querySelectorAll(".section").forEach(s => s.style.display = "none");
}
</script>

</body>
</html>